<!doctype html>
<html>
<head>
    <title>UEditorPlus 完整演示</title>
    <meta name="viewport" content="width=device-width, minimum-scale=0.5, maximum-scale=5, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <!-- <script type="text/javascript" charset="utf-8" src="../ueditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="editor_api.js"></script>
    <script type="text/javascript" charset="utf-8" src="../lang/zh-cn/zh-cn.js?{timestamp}"></script>
    <script src="./../plugins/demo/demo.js"></script> -->
    
    <style>
        :root {
            /*--ueditor-top-offset: 20px;*/
        }
    </style>
    <!-- <link rel="stylesheet" href="./style.css"/> -->
</head>
<body class="demo-editor-page">
<div>
    <h1>test.html</h1>
    <div>
        <script id="editor" type="text/plain" style="height:300px;">
			<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAAA1CAIAAAArhZmlAAACYklEQVR4Ae3bO27CQBAG4C0pXdJGyiVoOQIlLSVXiXKAKG3SJUUkSiiTG8ABUqSIZKSl8BaWHFkbjWYfcfB6ZGP0u0Cz492x/TFOJMCqwtZZQHWugAIVEAWaAIhAFBAQKIFOBKKAgEAJdCIQBQQESqATJRC11mVZ2kplWWqtc2xtBLTWyhijtbaIWmtjjMBbM9oSeZ63PXdjTH0700oK2ha6mvlpAkB0GgCIDkfaAIhpbs4qIDocaQMgprk5q4DocKQNgJjm5qwCosORNgBimpuz6toQlYp8OBJNOgzdBpeOqGIbXXJUJ0yGGaogEowA0V4nQVBQVZUV9iD4BG+tN1NqOAJEi0Kv3IiSzRx8SfPMtL0jQKSOC8k8Hbr1PQtvmre3+zBALIpTpGpxKni2v09xyIUHnDW8o0OyMMMvpnvsIRa79TRbPH06hb+eF9l0vWWM/SHSiUQhzkxGp1Hl7oGHWFXV8XWZZfPHw2/t/cM8y5Yv386h+kPkDUgxnUtUx0vaoZekCiJBiFg7vq2mk9ndodjfzybT1eboH6o/RDpyVOGc5FCIteNufaOUul1vA8H6L1L/Xw9QG3I4HnvctGtAxNrxY/MeE+wVMWpnvf7SsUv4nDAmcZEgejv/W3mATgzPqQGRJlM/2n/olJcNLh2RS4VxMw0XtGphRkRzrIj84qM00WQzOq/ZKr50xFYXM9RkIArIAxGIAgICJdCJQBQQECiBTgSigIBACXQiEAUEBEqgE4dDxG+2uX1CJ9a/2cbTA20eFYjMrZ8e4O8D4jQBIKa5OauA6HCkDYCY5uas+gFUZiw/MfdmcwAAAABJRU5ErkJggg==" _src="" style="" title="image.png(base64)" alt=""/>
			1111
			<my-vue-element>
				<slot slot="slot1">
					<div>插槽内Div1</div>
					<div>插槽内Div2</div>
					<div>插槽内Div3</div>
				</slot>
				<slot slot="slot2">
					<div>True slot2</div>
				</slot>
			</my-vue-element>
			1111
			
			<my-vue-element>
				<slot slot="slot1">
					<div>插槽内Div1</div>
					<div>插槽内Div2</div>
					<div>插槽内Div3</div>
				</slot>
				<slot slot="slot2">
					<div>True slot2</div>
				</slot>
			</my-vue-element>
			1111
			<div>
				前<my-custom-element contenteditable="true">
					<slot slot="slot1" contenteditable="true">
						<div  class="className"><b>in my-custom-element1</b></div>
						无标签文本111
						<div style="font-size:16px;"><i>in my-custom-element2</i></div>
					</slot>
					<slot slot="slot2" contenteditable="true">
						<div style="color:red;" data-ok="OK">in my-custom-element3</div>
						无标签文本222
						<div style="background-color:green;display:none;" data-copy-content>in my-custom-element4</div>
					</slot>
				</my-custom-element>后
			</div>
			222
			<div>
				<my-abc contenteditable="false">in my-abc</my-abc>
			</div>
			333
			
        </script>
		<script id="editor" type="text/plain" style="display: none;">
			<table data-sort="sortDisabled">
				<tbody>
					<tr class="firstRow">
						<td valign="top" style="word-break: break-all;" rowspan="1" colspan="3">
							我是表格
						</td>
					</tr>
					<tr>
						<td width="273" valign="top" style="word-break: break-all;">
							如果
						</td>
						<td width="273" valign="top" style="word-break: break-all;">
							有一天
						</td>
						<td width="273" valign="top" style="word-break: break-all;">
							我离开了
						</td>
					</tr>
					<tr>
						<td valign="top" colspan="1" rowspan="1" style="word-break: break-all;">
							怎么才能
						</td>
						<td valign="top" colspan="1" rowspan="1" style="word-break: break-all;">
							证明我
						</td>
						<td valign="top" colspan="1" rowspan="1" style="word-break: break-all;">
							曾经来过
						</td>
					</tr>
				</tbody>
			</table>
			abc前面的内容|<abc>1212</abc>
			<h1>
				你好 UEditorPlus
			</h1>
			<p>
				UEditorPlus 是基于 UEditor 二次开发的富文本编辑器，让 UEditor <span style="color: #E36C09;">焕<span style="color: #0070C0;">然</span><span style="color: #31859B;"><span style="color: #00B050;">一</span><span style="color: #FF0000;">新</span></span></span>
			</p>
			
			<pre class="brush:html;toolbar:false">&lt;div&gt;
			  &lt;span&gt;这里是HTML标签&lt;/span&gt;
			&lt;/div&gt;</pre>
			<h2>
			公式支持
			</h2>
			<p>
				<img src="https://r.latexeasy.com/image.svg?%5Cint%20%5Cfrac%7B1%7D%7Bx%7D%20dx%20%3D%20%5Cln%20%5Cleft%7C%20x%20%5Cright%7C%20%2B%20C"
				  data-formula-image="%5Cint%20%5Cfrac%7B1%7D%7Bx%7D%20dx%20%3D%20%5Cln%20%5Cleft%7C%20x%20%5Cright%7C%20%2B%20C"/>
			</p>
			<p>
				<br/>
			</p>
		</script>
    </div>
    <div id="btns" style="margin-top:20px;height:2000px;">
        <div>

            <button onclick="console.log(UE.getEditor('editor').getAllHtml())">获得整个html的内容</button>
            <button onclick="console.log(UE.getEditor('editor').getContent())">获得内容</button>
            <button onclick="UE.getEditor('editor').setContent('<p>欢迎使用 UEditorPlus</p>', false)">写入内容</button>
            <button onclick="UE.getEditor('editor').setContent('<p>欢迎使用 UEditorPlus</p>', true)">追加内容</button>
            <button onclick="alert(UE.getEditor('editor').getContentTxt())">获得纯文本</button>
            <button onclick="alert(UE.getEditor('editor').getPlainTxt())">获得带格式的纯文本</button>
            <button onclick="alert(UE.getEditor('editor').hasContents())">判断是否有内容</button>
            <button onclick="UE.getEditor('editor').focus()">使编辑器获得焦点</button>
            <button onmousedown="isFocus()">编辑器是否获得焦点</button>
            <button onmousedown="setBlur()">编辑器失去焦点</button>
            <button onclick="getSelectText()">获得当前选中的文本</button>
            <button onclick="UE.getEditor('editor').execCommand('insertHtml', '插入的内容')">插入内容</button>
            <button onclick="UE.getEditor('editor').setEnabled()">设定可编辑</button>
            <button onclick="UE.getEditor('editor').setDisabled('fullscreen')">设定不可编辑</button>
            <button onclick="UE.getEditor('editor').setHide()">隐藏编辑器</button>
            <button onclick="UE.getEditor('editor').setShow()">显示编辑器</button>
            <button onclick="UE.getEditor('editor').setHeight(300)">设置固定高度</button>
            <button onclick="UE.getEditor('editor')">创建编辑器</button>
            <button onclick="UE.getEditor('editor').destroy()">销毁编辑器</button>
            <button onclick="alert( UE.getEditor('editor').execCommand('get_auto_save_content') )">草稿箱-获取</button>
            <button onclick="UE.getEditor('editor').execCommand('clear_auto_save_content'); alert('已清空草稿箱')">草稿箱-清空
            </button>
            <button onclick="UE.getEditor('editor').execCommand('set_auto_save_content'); alert('已保存')">草稿箱-立即保存
            </button>
            <button onclick="UE.getEditor('editor').execCommand('auto_save_restore')">草稿箱-恢复到编辑器</button>
        </div>
    </div>

    <script type="module">
		import UE from './editor/_src/editor.js';
		window.UE = UE;

        var ue = UE.getEditor('editor',{
			serverUrl: '../_demo_server/handle.php',
            // autoHeightEnabled: false,
            // retainOnlyLabelPasted: true,
        });
        ue.on('contentchange', function () {
            // console.log('contentchange', ue.getContent());
        });

        function isFocus(e) {
            alert(UE.getEditor('editor').isFocus());
            UE.dom.domUtils.preventDefault(e)
        }

        function setBlur(e) {
            UE.getEditor('editor').blur();
            UE.dom.domUtils.preventDefault(e)
        }

        function getSelectText() {
            var range = UE.getEditor('editor').selection.getRange();
            range.select();
            var txt = UE.getEditor('editor').selection.getText();
            alert(txt)
        }

		
    </script>
</div>
</body>
</html>
